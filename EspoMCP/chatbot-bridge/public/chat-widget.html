<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EspoCRM Chat Widget Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
            min-height: 100vh;
        }
        .demo-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .demo-header {
            text-align: center;
            margin-bottom: 30px;
        }
        .demo-content {
            line-height: 1.6;
        }
        .feature-list {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 6px;
            margin: 20px 0;
        }
        .feature-list h3 {
            margin-top: 0;
            color: #007bff;
        }
        .feature-list ul {
            margin: 0;
            padding-left: 20px;
        }
        .code-snippet {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 15px 0;
        }
        .integration-note {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="demo-header">
            <h1>ü§ñ EspoCRM AI Chat Assistant</h1>
            <p>Intelligent CRM operations powered by 47 specialized tools</p>
        </div>

        <div class="demo-content">
            <p>Welcome to the EspoCRM Chat Widget demo! This AI-powered assistant can help you with:</p>

            <div class="feature-list">
                <h3>üè¢ CRM Operations</h3>
                <ul>
                    <li><strong>Contact Management:</strong> Create, search, and update contacts</li>
                    <li><strong>Account Operations:</strong> Manage company accounts and relationships</li>
                    <li><strong>Opportunity Tracking:</strong> Create and manage sales opportunities</li>
                    <li><strong>Lead Management:</strong> Handle lead generation and conversion</li>
                    <li><strong>Activity Scheduling:</strong> Create tasks, meetings, and calls</li>
                    <li><strong>Case Management:</strong> Track support cases and resolutions</li>
                </ul>
            </div>

            <div class="feature-list">
                <h3>üîß Advanced Features</h3>
                <ul>
                    <li><strong>Natural Language Processing:</strong> Ask in plain English</li>
                    <li><strong>Real-time Operations:</strong> Instant CRM data access</li>
                    <li><strong>Intelligent Routing:</strong> Automatically selects the right tools</li>
                    <li><strong>Relationship Linking:</strong> Connect related records automatically</li>
                    <li><strong>Search & Discovery:</strong> Find information quickly</li>
                    <li><strong>Team Collaboration:</strong> Assign tasks and manage permissions</li>
                </ul>
            </div>

            <h2>üí¨ Try the Chat Assistant</h2>
            <p>Click the chat bubble in the bottom-right corner to start chatting! Try asking:</p>
            <ul>
                <li>"Create a new contact named John Smith"</li>
                <li>"Search for accounts in the technology industry"</li>
                <li>"Show me my recent opportunities"</li>
                <li>"Create a task to follow up with lead"</li>
                <li>"What's the system status?"</li>
            </ul>

            <div class="integration-note">
                <h3>üîó Integration Instructions</h3>
                <p>To integrate this chat widget into your EspoCRM instance, add this code to your EspoCRM templates:</p>
                
                <div class="code-snippet">
&lt;!-- Add to your EspoCRM footer or layout template --&gt;
&lt;script&gt;
  // Configure the chat server URL
  window.ESPOCRM_CHAT_SERVER = 'http://your-server:3001';
&lt;/script&gt;
&lt;script src="http://your-server:3001/api/widget.js"&gt;&lt;/script&gt;
                </div>

                <p><strong>Server Setup:</strong> Make sure the chatbot bridge server is running on port 3001 alongside your EspoCRM container.</p>
            </div>

            <h2>üöÄ Powered by 47 MCP Tools</h2>
            <p>This chatbot leverages the complete EspoCRM MCP server implementation with:</p>
            <ul>
                <li>17 Core CRM tools (contacts, accounts, opportunities, meetings)</li>
                <li>10 Task & Lead Management tools (Phase 1)</li>
                <li>12 Team & Generic Entity tools (Phase 2)</li>
                <li>8 Communication & Relationship tools (Phase 3)</li>
            </ul>

            <p><em>The chat assistant intelligently selects and combines the right tools to fulfill your requests in natural language.</em></p>
        </div>
    </div>

    <!-- Load Socket.IO -->
    <script src="/socket.io/socket.io.js"></script>
    
    <!-- Load the chat widget -->
    <script>
        // Set the server URL for the widget
        window.ESPOCRM_CHAT_SERVER = window.location.origin;
    </script>
    <script src="/api/widget.js"></script>
</body>
</html>